# Лабораторная работа №1. Сортировка массивов.

## Реализация алгоритмов.

### Реализация Selection Sort

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L11-L18

### Реализация Insertion Sort

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L20-L32

### Реализация Merge Sort

Для сортировки слиянием было реализовано два варианта алгоритма. 
Один отличается от другого оптимизацией аллокаций памяти: у первого буффер для соединения двух сортированных подмассивов выделяется каждый раз заново, 
а у второго - буффер был создан заранее и переиспользуется всеми частями алгоритма.

#### Реализация Merge Sort без оптимизации аллокаций

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L34-L86 

#### Реализация Merge Sort с оптимизацией аллокаций

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L88-L141

### Реализация Heap Sort

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L143-L205

### Реализация Quick Sort

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L207-L249

### Реализация Bucket Sort

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/sort.hpp#L251-L275

## Анализ результатов

Полную табличку с результатами можно найти [здесь](https://github.com/unterumarmung/algo-class/blob/main/sort/results/output_transposed.csv).

| Sort Name → <br> Element Count ↓|bucket_sort|heap_sort|insertion_sort|merge_sort|merge_sort_optimized|quick_sort|selection_sort|
|-------------------------|-----------|---------|--------------|----------|--------------------|----------|--------------|
|100                      |26300      |3600     |27400         |5200      |2500                |6600      |5700          |
|200                      |19900      |7900     |54800         |8100      |3600                |12300     |32800         |
|300                      |31200      |13300    |124100        |13400     |5900                |30700     |62200         |
|400                      |78600      |18400    |213900        |29400     |7600                |36700     |85100         |
|500                      |68000      |24200    |283300        |22600     |10300               |68200     |111400        |
|600                      |75100      |29300    |452100        |25100     |25100               |63100     |238200        |
|700                      |77400      |35400    |574400        |31800     |13700               |43000     |214600        |
|800                      |76900      |38900    |693600        |33300     |15600               |45400     |335400        |
|900                      |122700     |45100    |933000        |37400     |17200               |51700     |428500        |
|1000                     |92800      |50100    |1132800       |42200     |19400               |57000     |502100        |
|2000                     |322000     |124800   |4473500       |85100     |40400               |110600    |1773800       |
|3000                     |459100     |159400   |11144000      |125300    |61900               |174200    |3879700       |
|4000                     |431600     |214600   |19285600      |202700    |83400               |232800    |7409100       |
|5000                     |545000     |381000   |29630200      |308400    |114200              |320300    |13405300      |
|6000                     |630600     |340100   |43796000      |255800    |130100              |335500    |15881900      |
|7000                     |680500     |359000   |56334800      |293100    |145900              |360100    |21452700      |
|8000                     |1098300    |428500   |73088400      |322300    |241900              |413000    |30765600      |
|9000                     |1158500    |556800   |93431900      |398800    |265600              |494400    |35284400      |
|10000                    |1120000    |567200   |116649200     |407600    |209800              |539100    |43409900      |
|20000                    |2239200    |1165200  |462688200     |935000    |471500              |1243700   |170174700     |
|30000                    |3624300    |1939300  |1034939400    |1452800   |795100              |1630100   |371098500     |
|40000                    |4260300    |2234200  |1814841100    |1812600   |947800              |2204700   |668110000     |
|50000                    |5678700    |3179000  |2894954300    |2931100   |1300000             |2948500   |1051758500    |
|60000                    |6708100    |3717100  |4179945800    |3029300   |1567100             |3640200   |1475704400    |
|70000                    |8623900    |4669100  |5646618200    |3933200   |2004000             |4344300   |2034316800    |
|80000                    |9511700    |4961800  |7551528200    |3728500   |2116100             |4670000   |2752960800    |
|90000                    |10040500   |5592700  |9203229300    |4700100   |2384200             |4831400   |3306650900    |
|100000                   |11815000   |6279900  |11350973900   |5208000   |2771400             |5651300   |4076054600    |
|200000                   |29599500   |14593900 |45485981400   |9684200   |5844700             |12340600  |16471631400   |
|300000                   |48666600   |21288000 |108717518700  |17888700  |10155800            |18928300  |36645180600   |
|400000                   |55440600   |26118700 |182894570100  |20483200  |11501900            |22662900  |65540860100   |
|500000                   |67003200   |36479700 |286165028800  |26844400  |16585200            |29154300  |100811404900  |
|600000                   |73356500   |42287800 |414310057100  |32022500  |18647600            |35256200  |145309282500  |
|700000                   |84213900   |46374800 |559343269900  |36031700  |21008000            |40131400  |194237912200  |
|800000                   |103238000  |54369000 |726451209000  |41193700  |24353700            |52655000  |255307612500  |
|900000                   |266747600  |70374500 |932281617900  |51359700  |29484000            |60325000  |331850729500  |


Первый столбец задаёт количество сортируемых элементов. 
Первая строка - вид сортровки. 
На пересечении: время выполнения алгоритма на массиве с заданным количеством элементов в наносекундах.

Результаты получены на процессоре i5-7300HQ с помощью компилятора g++-10 в Release сборке.

Для графического представления результата был написан Python3 скрипт:

https://github.com/unterumarmung/algo-class/blob/ba590e5988e25903b27f9c3e13c91bd14dce3eec/sort/analyze_results.py#L1-L12

Полученный график:

![Анализ результатов запуска алгоритмов сортировки](https://github.com/unterumarmung/algo-class/blob/main/sort/results/plot.png)

Как видно из графика, оптимизированный Merge Sort действительно быстрее своей неоптимизированной версии. 
